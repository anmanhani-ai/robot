# üìê AgriBot Calibration Guide

‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£ Calibrate ‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡∏Å‡∏≥‡∏à‡∏±‡∏î‡∏ß‡∏±‡∏ä‡∏û‡∏∑‡∏ä AgriBot

---

## üìã ‡∏™‡∏≤‡∏£‡∏ö‡∏±‡∏ç

1. [‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°](#‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°)
2. [‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏Å‡∏•‡πâ‡∏≠‡∏á](#‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏Å‡∏•‡πâ‡∏≠‡∏á)
3. [‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£ Calibrate](#‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£-calibrate)
4. [‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î Pixel to CM](#‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î-pixel-to-cm)
5. [‡∏Å‡∏≤‡∏£ Calibrate ‡πÅ‡∏Ç‡∏ô‡∏Å‡∏•](#‡∏Å‡∏≤‡∏£-calibrate-‡πÅ‡∏Ç‡∏ô‡∏Å‡∏•)
6. [‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Encoder](#‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô-encoder)
7. [Troubleshooting](#troubleshooting)

---

## ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°

### ‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á Calibrate?

‡∏£‡∏∞‡∏ö‡∏ö AgriBot ‡πÉ‡∏ä‡πâ‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏ß‡∏±‡∏ä‡∏û‡∏∑‡∏ä ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏à‡∏≤‡∏Å **pixel** ‡πÄ‡∏õ‡πá‡∏ô **cm** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ‡πÅ‡∏Ç‡∏ô‡∏Å‡∏•‡∏¢‡∏∑‡∏î‡πÑ‡∏õ‡∏û‡πà‡∏ô‡∏¢‡∏≤

```
‡∏Å‡∏•‡πâ‡∏≠‡∏á ‚Üí ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏´‡∏ç‡πâ‡∏≤ (pixel) ‚Üí ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏£‡∏∞‡∏¢‡∏∞ (cm) ‚Üí ‡∏™‡∏±‡πà‡∏á‡πÅ‡∏Ç‡∏ô‡∏¢‡∏∑‡∏î
```

‡∏Ñ‡πà‡∏≤ Calibration ‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:

| ‡∏Ñ‡πà‡∏≤ | ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢ | ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ñ‡πâ‡∏≤‡∏ú‡∏¥‡∏î |
|-----|----------|---------------|
| `pixel_to_cm_z` | 1 pixel = ‡∏Å‡∏µ‡πà cm | ‡πÅ‡∏Ç‡∏ô‡∏¢‡∏∑‡∏î‡∏™‡∏±‡πâ‡∏ô/‡∏¢‡∏≤‡∏ß‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ |
| `arm_offset` | ‡∏£‡∏∞‡∏¢‡∏∞‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡πÅ‡∏Ç‡∏ô | ‡∏û‡πà‡∏ô‡∏ú‡∏¥‡∏î‡∏à‡∏∏‡∏î |
| `arm_speed` | ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÅ‡∏Ç‡∏ô (cm/s) | ‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á |

---

## ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏Å‡∏•‡πâ‡∏≠‡∏á

### ‡∏≠‡∏á‡∏®‡∏≤‡∏Å‡∏•‡πâ‡∏≠‡∏á

```
        üì∑ ‡∏Å‡∏•‡πâ‡∏≠‡∏á                     üì∑ ‡∏Å‡∏•‡πâ‡∏≠‡∏á
         ‚îÇ (0¬∞)                       ‚ï≤ (45¬∞)
         ‚îÇ                             ‚ï≤
         ‚ñº                              ‚ï≤
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê                    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        ‡∏û‡∏∑‡πâ‡∏ô                           ‡∏û‡∏∑‡πâ‡∏ô
    
    Top-down (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)              ‡πÄ‡∏â‡∏µ‡∏¢‡∏á (‡∏ï‡πâ‡∏≠‡∏á calibrate)
```

| ‡∏≠‡∏á‡∏®‡∏≤ | ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ | ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢ |
|------|-------|--------|
| 0¬∞ (‡∏°‡∏≠‡∏á‡∏•‡∏á) | pixel_to_cm ‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏†‡∏≤‡∏û | ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏™‡∏π‡∏á |
| 30-45¬∞ | ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏á‡πà‡∏≤‡∏¢, ‡πÄ‡∏´‡πá‡∏ô‡∏°‡∏∏‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á | pixel_to_cm ‡πÑ‡∏°‡πà‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô |
| 60¬∞+ | - | ‡πÑ‡∏°‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ |

### ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏Å‡∏•‡πâ‡∏≠‡∏á

- **‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:** 40-60 cm ‡∏à‡∏≤‡∏Å‡∏û‡∏∑‡πâ‡∏ô
- **‡∏ï‡πà‡∏≥‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ:** ‡πÄ‡∏´‡πá‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Ñ‡∏ö
- **‡∏™‡∏π‡∏á‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ:** ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏´‡∏≤‡∏¢

---

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£ Calibrate

### 1. ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå

- [ ] ‡πÑ‡∏°‡πâ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ 30 cm)
- [ ] ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©‡∏Ç‡∏≤‡∏ß A4 (‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏ä‡∏±‡∏î)
- [ ] ‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢
- [ ] ESP32 ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏û‡∏£‡πâ‡∏≠‡∏°

### 2. ‡∏£‡∏±‡∏ô Calibration Tool

```bash
cd raspberry_pi
python calibration_simple.py
```

‡πÄ‡∏•‡∏∑‡∏≠‡∏Å `1. Full Calibration` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å

### 3. ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡πà‡∏≤‡∏ï‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô

- Tool ‡∏à‡∏∞‡∏ñ‡∏≤‡∏°‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô
- ‡∏Å‡∏î Enter ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤ default
- ‡∏Ñ‡πà‡∏≤‡∏à‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á `calibration.json` ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

---

## ‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î Pixel to CM

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏°‡∏≠‡∏á‡∏•‡∏á‡∏ï‡∏£‡∏á (0¬∞)

1. ‡∏ß‡∏≤‡∏á‡πÑ‡∏°‡πâ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÉ‡∏ô‡∏†‡∏≤‡∏û
2. ‡∏î‡∏π‡∏ß‡πà‡∏≤‡∏£‡∏∞‡∏¢‡∏∞ 10 cm ‡∏Å‡∏¥‡∏ô‡∏Å‡∏µ‡πà pixel
3. ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì: `pixel_to_cm = 10 / ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô pixel`

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÄ‡∏â‡∏µ‡∏¢‡∏á (30-60¬∞)

‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÄ‡∏â‡∏µ‡∏¢‡∏á ‡∏Ñ‡πà‡∏≤ pixel_to_cm ‡∏à‡∏∞ **‡πÑ‡∏°‡πà‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô**:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ FAR (‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏ô‡∏†‡∏≤‡∏û)                ‚îÇ ‚Üê pixel ‡πÄ‡∏•‡πá‡∏Å
‚îÇ ‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏î‡∏π‡πÄ‡∏•‡πá‡∏Å                   ‚îÇ
‚îÇ                               ‚îÇ
‚îÇ CENTER (‡∏Å‡∏•‡∏≤‡∏á‡∏†‡∏≤‡∏û)              ‚îÇ ‚Üê ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!
‚îÇ ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà target ‡∏à‡∏∞‡∏≠‡∏¢‡∏π‡πà       ‚îÇ
‚îÇ                               ‚îÇ
‚îÇ NEAR (‡∏™‡πà‡∏ß‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏†‡∏≤‡∏û)             ‚îÇ ‚Üê pixel ‡πÉ‡∏´‡∏ç‡πà
‚îÇ ‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏î‡∏π‡πÉ‡∏´‡∏ç‡πà                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**‡∏ß‡∏¥‡∏ò‡∏µ‡∏ß‡∏±‡∏î:**

1. ‡∏ß‡∏≤‡∏á‡πÑ‡∏°‡πâ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ó‡∏µ‡πà **‡∏™‡πà‡∏ß‡∏ô‡∏•‡πà‡∏≤‡∏á** (NEAR) ‚Üí ‡∏à‡∏î pixel
2. ‡∏ß‡∏≤‡∏á‡πÑ‡∏°‡πâ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ó‡∏µ‡πà **‡∏Å‡∏•‡∏≤‡∏á** (CENTER) ‚Üí ‡∏à‡∏î pixel ‚≠ê
3. ‡∏ß‡∏≤‡∏á‡πÑ‡∏°‡πâ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ó‡∏µ‡πà **‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏ô** (FAR) ‚Üí ‡∏à‡∏î pixel

Calibration Tool ‡∏à‡∏∞‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡πÉ‡∏´‡πâ

> üí° **‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:** ‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤ **CENTER** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Z-axis ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà target ‡∏à‡∏∞‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏°‡∏∑‡πà‡∏≠ aligned ‡πÅ‡∏•‡πâ‡∏ß

---

## ‡∏Å‡∏≤‡∏£ Calibrate ‡πÅ‡∏Ç‡∏ô‡∏Å‡∏•

### Arm Offset (‡∏£‡∏∞‡∏¢‡∏∞‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡πÅ‡∏Ç‡∏ô)

```
      ‡∏Å‡∏•‡πâ‡∏≠‡∏á
        ‚îÇ
        ‚îÇ‚Üê‚îÄ‚îÄ offset ‚îÄ‚îÄ‚Üí‚îÇ
        ‚îÇ              ‡πÅ‡∏Ç‡∏ô
        ‚ñº              ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚Üí
      ‡∏û‡∏∑‡πâ‡∏ô
```

**‡∏ß‡∏¥‡∏ò‡∏µ‡∏ß‡∏±‡∏î:**
1. ‡∏ß‡∏±‡∏î‡∏£‡∏∞‡∏¢‡∏∞‡∏à‡∏≤‡∏Å‡∏à‡∏∏‡∏î‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á‡πÄ‡∏•‡∏ô‡∏™‡πå‡∏Å‡∏•‡πâ‡∏≠‡∏á ‡∏ñ‡∏∂‡∏á‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà‡πÅ‡∏Ç‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏¢‡∏∑‡∏î
2. ‡πÉ‡∏™‡πà‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô Calibration Tool

### Arm Speed (‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÅ‡∏Ç‡∏ô)

> ‚ö†Ô∏è **‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ Encoder mode ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ß‡∏±‡∏î‡∏Ñ‡πà‡∏≤‡∏ô‡∏µ‡πâ

**‡∏ß‡∏¥‡∏ò‡∏µ‡∏ß‡∏±‡∏î:**
1. ‡∏ó‡∏≥‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏à‡∏∏‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
2. ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ú‡πà‡∏≤‡∏ô Serial Monitor:
   ```
   ACT:Z_OUT:1.00
   ```
3. ‡∏ß‡∏±‡∏î‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏µ‡πà‡∏¢‡∏∑‡∏î‡πÑ‡∏î‡πâ (cm)
4. ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì: `speed = ‡∏£‡∏∞‡∏¢‡∏∞ / 1.00`

---

## ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Encoder

### ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ Encoder?

| Mode | ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ | ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢ |
|------|-------|--------|
| **Time-based** | ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ hardware | ‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ 100% |
| **Encoder** | ‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å | ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á encoder |

### ‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡πâ‡∏á

```
encoder_ppr = 20        # Pulses per revolution (‡∏î‡∏π‡∏à‡∏≤‡∏Å spec)
wheel_diameter_mm = 30  # ‡πÄ‡∏™‡πâ‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏•‡∏≤‡∏á‡πÄ‡∏û‡∏•‡∏≤‡∏ó‡∏µ‡πà encoder ‡∏ï‡πà‡∏≠‡∏≠‡∏¢‡∏π‡πà
```

### ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á Encoder ‡∏ö‡∏ô ESP32

```
Z_MOVE:15.0   # ‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏õ 15 cm
Z_HOME        # ‡∏Å‡∏•‡∏±‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á 0
Z_POS         # ‡∏≠‡πà‡∏≤‡∏ô‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
Z_RESET       # Reset encoder ‡πÄ‡∏õ‡πá‡∏ô 0
```

---

## Troubleshooting

### ‚ùå ‡πÅ‡∏Ç‡∏ô‡∏¢‡∏∑‡∏î‡∏™‡∏±‡πâ‡∏ô‡πÑ‡∏õ

- **‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** `pixel_to_cm_z` ‡∏ô‡πâ‡∏≠‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡∏´‡∏£‡∏∑‡∏≠ `arm_offset` ‡∏°‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ
- **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:** Re-calibrate ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î‡πÉ‡∏´‡∏°‡πà

### ‚ùå ‡πÅ‡∏Ç‡∏ô‡∏¢‡∏∑‡∏î‡∏¢‡∏≤‡∏ß‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ

- **‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** `pixel_to_cm_z` ‡∏°‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ
- **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:** Re-calibrate, ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ß‡∏±‡∏î pixel ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

### ‚ùå ‡∏û‡πà‡∏ô‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏à‡∏∏‡∏î (‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ã‡πâ‡∏≤‡∏¢‡∏Ç‡∏ß‡∏≤)

- **‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏ï‡πâ‡∏≠‡∏á align ‡∏Å‡πà‡∏≠‡∏ô‡∏¢‡∏∑‡∏î‡πÅ‡∏Ç‡∏ô
- **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:** ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö `alignment_tolerance_px`

### ‚ùå Encoder ‡πÑ‡∏°‡πà‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤

- **‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏™‡∏≤‡∏¢‡∏´‡∏•‡∏∏‡∏î ‡∏´‡∏£‡∏∑‡∏≠ pin ‡∏ú‡∏¥‡∏î
- **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö:** 
  - ESP32 Pin: GPIO 34 (A), GPIO 35 (B)
  - ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á `Z_POS` ‡∏î‡∏π‡∏Ñ‡πà‡∏≤

### ‚ùå ‡∏Ñ‡πà‡∏≤ pixel_to_cm ‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡∏Å‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á Near/Far

- **‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÄ‡∏â‡∏µ‡∏¢‡∏á‡∏°‡∏≤‡∏Å
- **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:** ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏â‡∏µ‡∏¢‡∏á‡∏ô‡πâ‡∏≠‡∏¢‡∏•‡∏á (30-45¬∞)

---

## üìÅ ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á

| ‡πÑ‡∏ü‡∏•‡πå | ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà |
|------|--------|
| `calibration_simple.py` | ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠ calibrate |
| `calibration.json` | ‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡πà‡∏≤ calibration (auto-save) |
| `robot_brain.py` | ‡πÇ‡∏´‡∏•‡∏î‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å calibration.json |

---

## üìù ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á calibration.json

```json
{
  "img_width": 640,
  "img_height": 480,
  "camera_angle_deg": 45.0,
  "camera_height_cm": 50.0,
  "pixel_to_cm_z": 0.052631,
  "pixel_to_cm_z_near": 0.045,
  "pixel_to_cm_z_center": 0.052631,
  "pixel_to_cm_z_far": 0.065,
  "arm_speed_cm_per_sec": 10.0,
  "arm_base_offset_cm": 5.0,
  "max_arm_extend_cm": 50.0,
  "calibrated_at": "2026-01-13T22:00:00",
  "calibrated_by": "AgriBot Team"
}
```

---

## ‚úÖ Checklist ‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á

- [ ] ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á
- [ ] Calibrate pixel_to_cm (‡∏ß‡∏±‡∏î 3 ‡∏à‡∏∏‡∏î)
- [ ] ‡∏ß‡∏±‡∏î arm offset
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏¢‡∏∑‡∏î‡πÅ‡∏Ç‡∏ô 1-2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô calibration.json
- [ ] Run ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÉ‡∏ô manual mode ‡∏Å‡πà‡∏≠‡∏ô

---

**‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏î‡∏¢:** AgriBot Team  
**Version:** 2.0  
**‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó:** 2026-01-13
